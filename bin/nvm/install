#!/usr/bin/env bash

OS=${0/%install/check}
OSS=""
if [ -f $OS ];then
    TMP=`${OS}`
    OSS=($TMP)
else
    OS=`curl -L https://raw.githubusercontent.com/wxnacy/wshell/master/bin/system/check_system.sh | bash`
    OSS=(${OS})
fi
SYS=${OSS[0]}
VER=${OSS[1]}


# if [ ${SYS} == 'ubuntu' ]
# then

    # curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash

# elif [ ${SYS} == 'centos' ]
# then

    # curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash

# elif [ ${SYS} == 'Darwin' ]
# then

    # echo 'mac'

# fi

BP=~/.bash_profile
if [ -f ~/.profile ];then
    BP=~/.profile
fi

if [[ ! $PATH =~ '/.nvm/nvm.sh' ]];then
    curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash
    echo 'export NVM_DIR="$HOME/.nvm"' >> $BP
    echo '[ -s "$NVM_DIR/nvm.sh"   ] && . "$NVM_DIR/nvm.sh"' >> $BP
    echo '[ -s "$NVM_DIR/bash_completion"  ] && \. "$NVM_DIR/bash_completion"' >> $BP
    source $BP
    nvm install 8.11.3
    nvm alias default 8.11.3
fi
