#!/usr/bin/env bash

WSHELL_HOME=${HOME}/.wshell
CMD=$1
ARGS=($@)

help(){
    echo 'wshell 1.0.0'
    echo 'Usage: wshell <command> [<args>]'
    echo ''
    echo 'Some useful Wshell commands are:'

    echo '  update      update the wshell version'
    echo '  install     Install software by name'
    echo '  mysql       run mysql shell'
    # echo 'See `wshell help <command>` for information on a specific command.'
    # echo 'For full documentation, see: https://github.com/yyuu/pyenv#readme'
}

update(){
    NPWD=${PWD}
    cd ${HOME}/.wshell
    git pull
    cd ${NPWD}
}

install(){
    PN=${ARGS[1]}
    OS=`${WSHELL_HOME}/bin/system/check_system.sh`
    OSS=(${OS})
    SYS=${OSS[0]}
    VER=${OSS[1]}

    echo $SYS
    case "${ARGS[1]}" in
        profile)
            test -f ~/.bash_profile && echo '# the following to ~/.bash_profile:'
            test -f ~/.profile && echo '# the following to ~/.profile:'
            echo '  . ${HOME}/.wshell/bin/conf/.bash_profile';;
        wvim)
            curl -L https://raw.githubusercontent.com/wxnacy/wvim/master/install.sh | bash;;
        *)  ;;
    esac
}

mysql(){
    case "${ARGS[1]}" in
        login) ${WSHELL_HOME}/bin/mysql/login ${ARGS[2]};;
        run) ${WSHELL_HOME}/bin/mysql/run ${ARGS[2]};;
        *)  ;;
    esac

}


case "$1" in
    update)   update;;
    install)    install;;
    mysql)    mysql;;
    help)  help;;
    -h)  help;;
    *)       help;;
esac

USAGE='

   commands    List all available pyenv commands\n
   local       Set or show the local application-specific Python version
   global      Set or show the global Python version
   shell       Set or show the shell-specific Python version
   install     Install a Python version using python-build
   uninstall   Uninstall a specific Python version
   rehash      Rehash pyenv shims (run this after installing executables)
   version     Show the current Python version and its origin
   versions    List all Python versions available to pyenv
   which       Display the full path to an executable
   whence      List all Python versions that contain the given executable

See `pyenv help <command>` for information on a specific command.
For full documentation, see: https://github.com/yyuu/pyenv#readme'
